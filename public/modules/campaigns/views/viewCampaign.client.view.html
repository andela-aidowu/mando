
<section id="section" class="container">
  <div class="row viewCampaignWrapper">
    <div class="col-md-12">
      <!-- <div class="<col-md-5>"> -->
        <div class="col-md-6">
          <p class="title" data-ng-bind="campaign.title"></p>
          <p class="CreatedAndDeadline titles ">Created By: <span class="values">{{campaign.createdBy.displayName}} </span> <span data-ng-show="authentication.user._id === campaign.createdBy._id"><a href="/#!/campaign/{{campaign.slug}}/edit" id="editBtn" class="pull-right">EDIT CAMPAIGN </a></span></p>
          <p class="CreatedAndDeadline titles">Deadline: <span class="values">{{campaign.dueDate | date}}</span> </p>
          <pre class="values campaignDesc">{{campaign.description}}</pre>
        <!-- </div> -->
      </div>
      <div class="col-md-5 col-md-offset-1">
        <div>
        <!--Disabled the support button for unauthenticated user -->
          <button class="btn btn-success btn-lg supportbtn" ng-class="{'disabled': ownCampaign || campaign.amount == campaignBalance || daysLeft === 'none' || campaign.status === 'funded', 'expired': campaign.status === 'expired'}"  data-ng-disabled="!authentication.user" ng-click="openModal()" ng-bind="buttonValue"></button>
          <p class="supportFootnote" ng-show="ownCampaign">You can't support your own campaign</p>
        </div><br>
          <p class="cash titles">Needs: <span class="values">{{campaign.amount | currencyflt}}</span></p>
          <p class="cash titles">Raised: <span class="values">{{campaignBalance | currencyflt}}</span></p>
          <p class="cash titles" ng-hide="daysLeft === 'none'">Days left: <span ng-class="{values: false, 'text-success': deadlineStyle == 'success','text-warning': deadlineStyle == 'warning', 'text-danger': deadlineStyle == 'danger'}">{{daysLeft}}</span></p>
          <div class="progress">
            <div class="progress-bar progress-bar-success" role="progressbar"  ng-style="{'width': fundsRaised +'%'}">
              {{campaignFundPercentage}}% funded <span ng-show="dateFunded"> on {{dateFunded | date}}</span>
            </div> 
          </div>  
          <h4 class="text-success" ng-show="campaign.amount == campaignBalance">Campaign fully funded.</h4>
          <h4 class="text-danger" ng-show="daysLeft === 'none' && campaign.amount < campaignBalance">Campaign Expired.</h4>
          <hr>
        <div>
          <youtube-video video-id="campaign.youtubeUrl"></youtube-video>
        </div>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <h2>Backers</h2>
    <div ng-hide="campaignBackers" class="page-header"><h3 class="">This campaign does not have any backers</h3></div>
    <div ng-show="campaignBackers">
      <table ng-table="tableParams" class="table">
        <tr ng-repeat="backer in $data">
          <td data-title="'Name'" sortable="'userid.displayName'">
            {{backer.userid.displayName}}
          </td>
          <td data-title="'Date'" sortable="'created'">
            {{backer.created | date}}
          </td>
          <td data-title="'Amount'" sortable="'amountDonated'">
            {{backer.amountDonated | currencyflt}}
          </td>
        </tr>
      </table>
    </div>
  </div>
</section>
